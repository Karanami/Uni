/*
 * common.hpp
 *
 *  Created on: Jan 12, 2024
 *      Author: Piotr Lesicki
 */

#ifndef INC_COMMON_HPP_
#define INC_COMMON_HPP_

#include "main.h"
#include "gpio.h"
#include "lptim.h"

//	┏┓  •  ┳
//	┃┓┏┓┓┏┓┃┏┓
//	┗┛┣┛┗┗┛┻┛┗
//	  ┛

struct GpioIn
{
	public:
		GpioIn(const GPIO_Typedef *gpio, uint16_t pin);
		GpioIn(const GPIO_Typedef *gpio, uint16_t pin, bool inv);

		bool read();

	private:
		GPIO_Typedef *gpio;
		uint16_t pin;
		uint16_t inv;
};

//	┏┓  •  ┏┓
//	┃┓┏┓┓┏┓┃┃┓┏╋
//	┗┛┣┛┗┗┛┗┛┗┻┗
//	  ┛

struct GpioOut
{
	public:
		GpioOut(const GPIO_Typedef *gpio, uint16_t pin);
		GpioOut(const GPIO_Typedef *gpio, uint16_t pin, bool inv);

		void on();
		void off();
		void toggle();

	private:
		GPIO_Typedef *gpio;
		uint16_t pin;
		uint16_t inv;
};


//	┏┓  •  ┳┳┓•
//	┃┓┏┓┓┏┓┃┃┃┓┏┏
//	┗┛┣┛┗┗┛┛ ┗┗┛┗
//	  ┛

#define PORT(LABEL) LABEL##_GPIO_Port
#define PIN(LABEL) LABEL##Pin


//	┓   ┏┳┓•
//	┃ ┏┓ ┃ ┓┏┳┓┏┓┏┓
//	┗┛┣┛ ┻ ┗┛┗┗┗ ┛
//	  ┛

struct LpTimer
{
	public:
		LpTimer(const LPTIM_Typedef)
};

#endif /* INC_COMMON_HPP_ */
