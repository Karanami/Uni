/*
 * Max11643.hpp
 *
 *  Created on: Jan 13, 2024
 *      Author: Piotr Lesicki
 */

#ifndef INC_MAX11643_HPP_
#define INC_MAX11643_HPP_

#include "main.h"
#include "common.hpp"

#include <array>

struct Max11643Mission { };

class Max11643
{
	public:
		Max11643(SPI_HandleTypedef *spi, GpioOut *cs, GpioIn *it, Max11643Mission mission);

		void requestData();
		void isDataReady();
		uint8_t getChannelAdc(uint32_t channel);

	private:
		SPI_HandleTypedef *spi;
		GpioOut *cs;
		GpioIn *it;

		uint8_t mission_code;
		uint8_t data[16];
};


#endif /* INC_MAX11643_HPP_ */
