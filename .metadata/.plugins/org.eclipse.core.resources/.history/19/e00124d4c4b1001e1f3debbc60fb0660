/*
 * Max11643.hpp
 *
 *  Created on: Jan 13, 2024
 *      Author: Piotr Lesicki
 */

#ifndef INC_MAX11643_HPP_
#define INC_MAX11643_HPP_

#include "main.h"
#include "common.hpp"

#include <array>

class Max11643
{
	public:
		Max11643(SPI_HandleTypedef *spi, GpioOut *cs, GpioIn *it);

		void requestData();
		void isDataReady();
		uint8_t getChannelAdc(uint32_t channel);



	private:
		SPI_HandleTypedef *spi;
		GpioOut *cs;
		GpioIn *it;

		uint8_t mission;
		//uint8_t data[16];
		std::array<uint8_t, 16> data;
};


#endif /* INC_MAX11643_HPP_ */
